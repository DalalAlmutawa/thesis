%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  Thesis Work
%    Attempt to bring in the proper event labels
%      Due to the events being cut off in current pop_biosig function
%   
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function [event_list] = event_finder(dur1, dur2, sub, trial)

	num_annotations = 30; % how many annotations there should be
	event_list = zeros(num_annotations, 4); % pre-populate matrix

    number = 1;
	type = 2;
	latency = 3;
	duration = 4;

	if dur1 == dur2
		event_list(:,duration) = dur1;
		fprintf('Durations are equal %d = %d\n', dur1, dur2);
	else
		event_list(1:2:30,duration) = dur1; % Make all odd events dur1
		event_list(2:2:30,duration) = dur2; % Make all even events dur2
		fprintf('Durations are not equal %d = %d\n', dur1, dur2);
	end 

	% Initial values for lanency and number
	event_list(1, latency) = 1;
	event_list(1, number) = 1;
	for kk = 2:num_annotations
		event_list(kk, number) = kk;
		event_list(kk, latency) = event_list(kk - 1, latency) + event_list(kk - 1, duration);
    end
    
	switch sub
		case 'S001'
			fprintf('Subject %s\n', sub);
			switch trial
				case 'R03'
					fprintf('     Trial %s\n', trial);
					events = [1;3;1;2;1;...
							2;1;3;1;3;...
							1;2;1;2;1;...
							3;1;2;1;3;...
							1;3;1;2;1;...
							2;1;3;1;2];
					event_list(:, type) = events;

				case 'R07'
					fprintf('     Trial %s\n', trial);
					events = [1;2;1;3;1;...
							2;1;3;1;2;...
							1;3;1;3;1;...
							2;1;2;1;3;...
							1;3;1;2;1;...
							3;1;2;1;2];
					event_list(:, type) = events;

				case 'R11'
					fprintf('     Trial %s\n', trial);
					events = [1;2;1;3;1;...
							3;1;2;1;3;...
							1;2;1;2;1;...
							3;1;3;1;2;...
							1;2;1;3;1;...
							3;1;2;1;3];
					event_list(:, type) = events;

				otherwise
					fprintf('     Trial not found\n');
					error('Trial not found');
            end

		case 'S002'
			fprintf('Subject %s\n', sub);
			switch trial
				case 'R03'
					fprintf('     Trial %s\n', trial);
					events = [1;2;1;3;1;...
							3;1;2;1;2;...
							1;3;1;3;1;...
							2;1;3;1;2;...
							1;2;1;3;1;...
							2;1;3;1;2];
					event_list(:,type) = events;

				case 'R07'
					fprintf('     Trial %s\n', trial);
					events = [1;3;1;2;1;...
							3;1;2;1;3;...
							1;2;1;2;1;...
							3;1;2;1;3;...
							1;2;1;3;1;...
							3;1;2;1;3];
					event_list(:,type) = events;

				case 'R11'
					fprintf('     Trial %s\n', trial);
					events = [1;3;1;2;1;...
							2;1;3;1;2;...
							1;3;1;3;1;...
							2;1;2;1;3;...
							1;2;1;3;1;...
							3;1;2;1;2];
					event_list(:,type) = events;

				otherwise
					fprintf('     Trial not found\n');
					error('Trial not found');
            end

		case 'S003'
			fprintf('Subject %s\n', sub);
			switch trial
				case 'R03'
					fprintf('     Trial %s\n', trial);
					events = [1;3;1;2;1;...
							3;1;2;1;2;...
							1;3;1;3;1;...
							2;1;2;1;3;...
							1;2;1;3;1;...
							3;1;2;1;3];
					event_list(:,type) = events;

				case 'R07'
					fprintf('     Trial %s\n', trial);
					events = [1;2;1;3;1;...
							2;1;3;1;2;...
							1;3;1;3;1;...
							2;1;2;1;3;...
							1;3;1;2;1;...
							3;1;2;1;2];
					event_list(:,type) = events;

				case 'R11'
					fprintf('     Trial %s\n', trial);
					events = [1;2;1;3;1;...
							2;1;3;1;3;...
							1;2;1;3;1;...
							2;1;2;1;3;...
							1;2;1;3;1;...
							2;1;3;1;3];
					event_list(:,type) = events;

				otherwise
					fprintf('     Trial not found\n');
					error('Trial not found');
            end

		case 'S004'
			fprintf('Subject %s\n', sub);
			switch trial
				case 'R03'
					fprintf('     Trial %s\n', trial);
					events = [1;3;1;2;1;...
							3;1;2;1;2;...
							1;3;1;2;1;...
							3;1;3;1;2;...
							1;3;1;2;1;...
							3;1;2;1;3];
					event_list(:,type) = events;

				case 'R07'
					fprintf('     Trial %s\n', trial);
					events = [1;3;1;2;1;...
							2;1;3;1;2;...
							1;3;1;3;1;...
							2;1;3;1;2;...
							1;2;1;3;1;...
							3;1;2;1;3];
					event_list(:,type) = events;

				case 'R11'
					fprintf('     Trial %s\n', trial);
					events = [1;2;1;3;1;...
							3;1;2;1;2;...
							1;3;1;2;1;...
							3;1;2;1;3;...
							1;2;1;3;1;...
							3;1;2;1;2];
					event_list(:,type) = events;

				otherwise
					fprintf('     Trial not found\n');
					error('Trial not found');
            end

		case 'S005'
			fprintf('Subject %s\n', sub);
			switch trial
				case 'R03'
					fprintf('     Trial %s\n', trial);
					events = [1;2;1;3;1;...
							3;1;2;1;3;...
							1;2;1;3;1;...
							2;1;3;1;2;...
							1;2;1;3;1;...
							2;1;3;1;3];
					event_list(:,type) = events;

				case 'R07'
					fprintf('     Trial %s\n', trial);
					events = [1;3;1;2;1;...
							2;1;3;1;2;...
							1;3;1;3;1;...
							2;1;3;1;2;...
							1;3;1;2;1;...
							2;1;3;1;2];
					event_list(:,type) = events;

				case 'R11'
					fprintf('     Trial %s\n', trial);
					events = [1;2;1;3;1;...
							2;1;3;1;3;...
							1;2;1;3;1;...
							2;1;2;1;3;...
							1;2;1;3;1;...
							3;1;2;1;2];
					event_list(:,type) = events;

				otherwise
					fprintf('     Trial not found\n');
					error('Trial not found');
            end

		case 'S006'
			fprintf('Subject %s\n', sub);
			switch trial
				case 'R03'
					fprintf('     Trial %s\n', trial);
					events = [1;3;1;2;1;...
							2;1;3;1;2;...
							1;3;1;2;1;...
							3;1;3;1;2;...
							1;2;1;3;1;...
							3;1;2;1;2];
					event_list(:,type) = events;

				case 'R07'
					fprintf('     Trial %s\n', trial);
					events = [1;2;1;3;1;...
							2;1;3;1;2;...
							1;3;1;2;1;...
							3;1;2;1;3;...
							1;3;1;2;1;...
							3;1;2;1;3];
					event_list(:,type) = events;

				case 'R11'
					fprintf('     Trial %s\n', trial);
					events = [1;3;1;2;1;...
							3;1;2;1;3;...
							1;2;1;3;1;...
							2;1;2;1;3;...
							1;2;1;3;1;...
							2;1;3;1;3];
					event_list(:,type) = events;

				otherwise
					fprintf('     Trial not found\n');
					error('Trial not found');
            end
		otherwise
			fprintf('Patient not found');
            error('Patient not found');
    end
